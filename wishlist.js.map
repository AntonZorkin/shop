{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["//Логіка сторінки Wishlist\nimport iziToast from 'izitoast';\nimport { checkLS, addToCartById, removeFromWishlistById } from './js/helpers';\nimport { refs } from './js/refs';\nimport { onWish } from './js/handlers';\nimport { onProductsClick, onRemoveFromWishClick } from './js/handlers.js';\nimport { closeModal } from './js/modal.js';\n\nonWish();\nconst updateBadges = () => {\n  refs.cartNumElem.textContent = checkLS('cart').length;\n  refs.wishNumElem.textContent = checkLS('wishlist').length;\n};\nupdateBadges();\n\nrefs.productsElem.addEventListener('click', onProductsClick);\nrefs.modalCloseElem.addEventListener('click', closeModal);\n\nrefs.modalRoot.addEventListener('click', e => {\n  const wishBtn = e.target.closest('.js-wish-btn');\n  const cartBtn = e.target.closest('.js-cart-btn');\n  const buyBtn = e.target.closest('.js-buy-btn');\n  if (wishBtn) {\n    onRemoveFromWishClick({ currentTarget: wishBtn });\n    closeModal();\n    onWish();\n    updateBadges();\n\n    return;\n  } else if (cartBtn) {\n    //при натисканні додати в кошик видалити з вішліста\n    const id =\n      e.target.closest('[data-id]')?.dataset.id || refs.modalRoot.dataset.id;\n    if (!id) return;\n    addToCartById(id);\n    removeFromWishlistById(id);\n    const wishBtnInModal = refs.modalRoot.querySelector('.js-wish-btn');\n    if (wishBtnInModal) {\n      wishBtnInModal.textContent = 'Add to wishlist';\n      wishBtnInModal.classList.remove('btn--in-wishlist');\n    }\n    updateBadges();\n    onWish();\n    return;\n  } else if (buyBtn) {\n    iziToast.success({\n      message: 'Product added to your order.',\n      timeout: 3000,\n      position: 'topCenter',\n    });\n    closeModal();\n    return;\n  } else return;\n});\n"],"names":["onWish","updateBadges","refs","checkLS","onProductsClick","closeModal","e","wishBtn","cartBtn","buyBtn","onRemoveFromWishClick","id","_a","addToCartById","removeFromWishlistById","wishBtnInModal","iziToast"],"mappings":"kJAQAA,IACA,MAAMC,EAAe,IAAM,CACzBC,EAAK,YAAY,YAAcC,EAAQ,MAAM,EAAE,OAC/CD,EAAK,YAAY,YAAcC,EAAQ,UAAU,EAAE,MACrD,EACAF,IAEAC,EAAK,aAAa,iBAAiB,QAASE,CAAe,EAC3DF,EAAK,eAAe,iBAAiB,QAASG,CAAU,EAExDH,EAAK,UAAU,iBAAiB,QAASI,GAAK,OAC5C,MAAMC,EAAUD,EAAE,OAAO,QAAQ,cAAc,EACzCE,EAAUF,EAAE,OAAO,QAAQ,cAAc,EACzCG,EAASH,EAAE,OAAO,QAAQ,aAAa,EAC7C,GAAIC,EAAS,CACXG,EAAsB,CAAE,cAAeH,CAAO,CAAE,EAChDF,IACAL,IACAC,IAEA,MACD,SAAUO,EAAS,CAElB,MAAMG,IACJC,EAAAN,EAAE,OAAO,QAAQ,WAAW,IAA5B,YAAAM,EAA+B,QAAQ,KAAMV,EAAK,UAAU,QAAQ,GACtE,GAAI,CAACS,EAAI,OACTE,EAAcF,CAAE,EAChBG,EAAuBH,CAAE,EACzB,MAAMI,EAAiBb,EAAK,UAAU,cAAc,cAAc,EAC9Da,IACFA,EAAe,YAAc,kBAC7BA,EAAe,UAAU,OAAO,kBAAkB,GAEpDd,IACAD,IACA,MACD,SAAUS,EAAQ,CACjBO,EAAS,QAAQ,CACf,QAAS,+BACT,QAAS,IACT,SAAU,WAChB,CAAK,EACDX,IACA,MACJ,KAAS,OACT,CAAC"}