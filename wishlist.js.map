{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["//Логіка сторінки Wishlist\nimport { refs } from './js/refs';\nimport { onWish } from './js/handlers';\nimport {\n  checkLS,\n  addToCartById,\n  removeFromWishlistById,\n  setTheme,\n} from './js/storage';\nimport {\n  onProductsClick,\n  onRemoveFromWishClick,\n  onThemeBtn,\n} from './js/handlers.js';\nimport { closeModal, onBuyBtnClick } from './js/modal.js';\n\nsetTheme();\nrefs.themeElem.addEventListener('click', onThemeBtn);\nonWish();\nconst updateBadges = () => {\n  refs.cartNumElem.textContent = checkLS('cart').length;\n  refs.wishNumElem.textContent = checkLS('wishlist').length;\n};\nupdateBadges();\n\nrefs.productsElem.addEventListener('click', onProductsClick);\nrefs.modalCloseElem.addEventListener('click', closeModal);\n\nrefs.modalRoot.addEventListener('click', e => {\n  const wishBtn = e.target.closest('.js-wish-btn');\n  const cartBtn = e.target.closest('.js-cart-btn');\n  const buyBtn = e.target.closest('.js-buy-btn');\n  if (wishBtn) {\n    onRemoveFromWishClick({ currentTarget: wishBtn });\n    closeModal();\n    onWish();\n    updateBadges();\n\n    return;\n  } else if (cartBtn) {\n    //при натисканні додати в кошик видалити з вішліста\n    const id =\n      e.target.closest('[data-id]')?.dataset.id || refs.modalRoot.dataset.id;\n    if (!id) return;\n    addToCartById(id);\n    removeFromWishlistById(id);\n    const wishBtnInModal = refs.modalRoot.querySelector('.js-wish-btn');\n    if (wishBtnInModal) {\n      wishBtnInModal.textContent = 'Add to wishlist';\n      wishBtnInModal.classList.remove('in-wishlist');\n    }\n    updateBadges();\n    onWish();\n    return;\n  } else if (buyBtn) {\n    onBuyBtnClick();\n    onWish();\n    const savedWish = checkLS('wishlist');\n    refs.wishNumElem.textContent = savedWish.length;\n  } else return;\n});\n"],"names":["setTheme","refs","onThemeBtn","onWish","updateBadges","checkLS","onProductsClick","closeModal","e","wishBtn","cartBtn","buyBtn","onRemoveFromWishClick","id","_a","addToCartById","removeFromWishlistById","wishBtnInModal","onBuyBtnClick","savedWish"],"mappings":"uJAgBAA,IACAC,EAAK,UAAU,iBAAiB,QAASC,CAAU,EACnDC,IACA,MAAMC,EAAe,IAAM,CACzBH,EAAK,YAAY,YAAcI,EAAQ,MAAM,EAAE,OAC/CJ,EAAK,YAAY,YAAcI,EAAQ,UAAU,EAAE,MACrD,EACAD,IAEAH,EAAK,aAAa,iBAAiB,QAASK,CAAe,EAC3DL,EAAK,eAAe,iBAAiB,QAASM,CAAU,EAExDN,EAAK,UAAU,iBAAiB,QAASO,GAAK,OAC5C,MAAMC,EAAUD,EAAE,OAAO,QAAQ,cAAc,EACzCE,EAAUF,EAAE,OAAO,QAAQ,cAAc,EACzCG,EAASH,EAAE,OAAO,QAAQ,aAAa,EAC7C,GAAIC,EAAS,CACXG,EAAsB,CAAE,cAAeH,CAAO,CAAE,EAChDF,IACAJ,IACAC,IAEA,MACD,SAAUM,EAAS,CAElB,MAAMG,IACJC,EAAAN,EAAE,OAAO,QAAQ,WAAW,IAA5B,YAAAM,EAA+B,QAAQ,KAAMb,EAAK,UAAU,QAAQ,GACtE,GAAI,CAACY,EAAI,OACTE,EAAcF,CAAE,EAChBG,EAAuBH,CAAE,EACzB,MAAMI,EAAiBhB,EAAK,UAAU,cAAc,cAAc,EAC9DgB,IACFA,EAAe,YAAc,kBAC7BA,EAAe,UAAU,OAAO,aAAa,GAE/Cb,IACAD,IACA,MACD,SAAUQ,EAAQ,CACjBO,IACAf,IACA,MAAMgB,EAAYd,EAAQ,UAAU,EACpCJ,EAAK,YAAY,YAAckB,EAAU,MAC7C,KAAS,OACT,CAAC"}