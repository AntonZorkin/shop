{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["//Логіка сторінки Wishlist\nimport iziToast from 'izitoast';\nimport { checkLS, addToCartById, removeFromWishlistById } from './js/helpers';\nimport { refs } from './js/refs';\nimport { onWish } from './js/handlers';\nimport { onProductsClick, onRemoveFromWishClick } from './js/handlers.js';\nimport { closeModal, onBuyBtnClick } from './js/modal.js';\n\nonWish();\nconst updateBadges = () => {\n  refs.cartNumElem.textContent = checkLS('cart').length;\n  refs.wishNumElem.textContent = checkLS('wishlist').length;\n};\nupdateBadges();\n\nrefs.productsElem.addEventListener('click', onProductsClick);\nrefs.modalCloseElem.addEventListener('click', closeModal);\n\nrefs.modalRoot.addEventListener('click', e => {\n  const wishBtn = e.target.closest('.js-wish-btn');\n  const cartBtn = e.target.closest('.js-cart-btn');\n  const buyBtn = e.target.closest('.js-buy-btn');\n  if (wishBtn) {\n    onRemoveFromWishClick({ currentTarget: wishBtn });\n    closeModal();\n    onWish();\n    updateBadges();\n\n    return;\n  } else if (cartBtn) {\n    //при натисканні додати в кошик видалити з вішліста\n    const id =\n      e.target.closest('[data-id]')?.dataset.id || refs.modalRoot.dataset.id;\n    if (!id) return;\n    addToCartById(id);\n    removeFromWishlistById(id);\n    const wishBtnInModal = refs.modalRoot.querySelector('.js-wish-btn');\n    if (wishBtnInModal) {\n      wishBtnInModal.textContent = 'Add to wishlist';\n      wishBtnInModal.classList.remove('btn--in-wishlist');\n    }\n    updateBadges();\n    onWish();\n    return;\n  } else if (buyBtn) {\n    onBuyBtnClick();\n    onWish();\n    const savedWish = checkLS('wishlist');\n    refs.wishNumElem.textContent = savedWish.length;\n  } else return;\n});\n"],"names":["onWish","updateBadges","refs","checkLS","onProductsClick","closeModal","wishBtn","cartBtn","buyBtn","onRemoveFromWishClick","id","_a","addToCartById","removeFromWishlistById","wishBtnInModal","onBuyBtnClick","savedWish"],"mappings":"mIAQAA,IACA,MAAMC,EAAe,IAAM,CACzBC,EAAK,YAAY,YAAcC,EAAQ,MAAM,EAAE,OAC/CD,EAAK,YAAY,YAAcC,EAAQ,UAAU,EAAE,MACrD,EACAF,IAEAC,EAAK,aAAa,iBAAiB,QAASE,CAAe,EAC3DF,EAAK,eAAe,iBAAiB,QAASG,CAAU,EAExDH,EAAK,UAAU,iBAAiB,QAAS,GAAK,OAC5C,MAAMI,EAAU,EAAE,OAAO,QAAQ,cAAc,EACzCC,EAAU,EAAE,OAAO,QAAQ,cAAc,EACzCC,EAAS,EAAE,OAAO,QAAQ,aAAa,EAC7C,GAAIF,EAAS,CACXG,EAAsB,CAAE,cAAeH,CAAO,CAAE,EAChDD,IACAL,IACAC,IAEA,MACD,SAAUM,EAAS,CAElB,MAAMG,IACJC,EAAA,EAAE,OAAO,QAAQ,WAAW,IAA5B,YAAAA,EAA+B,QAAQ,KAAMT,EAAK,UAAU,QAAQ,GACtE,GAAI,CAACQ,EAAI,OACTE,EAAcF,CAAE,EAChBG,EAAuBH,CAAE,EACzB,MAAMI,EAAiBZ,EAAK,UAAU,cAAc,cAAc,EAC9DY,IACFA,EAAe,YAAc,kBAC7BA,EAAe,UAAU,OAAO,kBAAkB,GAEpDb,IACAD,IACA,MACD,SAAUQ,EAAQ,CACjBO,IACAf,IACA,MAAMgB,EAAYb,EAAQ,UAAU,EACpCD,EAAK,YAAY,YAAcc,EAAU,MAC7C,KAAS,OACT,CAAC"}