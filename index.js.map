{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-function.js","../src/js/constants.js","../src/js/helpers.js","../src/js/products-api.js","../src/js/modal.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const refs = {\n  categoriesElem: document.querySelector('.categories'),\n  productsElem: document.querySelector('.products'),\n  categoryElem: document.querySelector('.categories__item'),\n  loadMoreElem: document.querySelector('.load-more-btn'),\n  searchBtnElem: document.querySelector('.search-form'),\n\n  modalElem: document.querySelector('.modal-product'),\n  modalRoot: document.querySelector('.modal'),\n  modalCloseElem: document.querySelector('.modal__close-btn'),\n  formElem: document.querySelector('.search-form'),\n  inputElem: document.querySelector('.search-form__input'),\n  productIdElem: document.querySelector('.js-product-id'),\n  themeElem: document.querySelector('.theme-toggle-btn'),\n};\n","import { refs } from './refs';\n\nexport const createCategories = data =>\n  data\n    .map(\n      item => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${item}</button>\n </li>`\n    )\n    .join('');\n\nexport const createProducts = data =>\n  data\n    .map(\n      item => `\n  <li class=\"products__item\" data-id=\"${item.id}\">\n    <img class=\"products__image\" src=\"${item.thumbnail}\" alt=\"${item.description}\"/>\n    <p class=\"products__title\">${item.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${item.brand}</span></p>\n    <p class=\"products__category\">Category: ${item.category}</p>\n    <p class=\"products__price\">Price: ${item.price}$</p>\n  </li>`\n    )\n    .join('');\n\nexport const createModal = data =>\n  `<img class=\"modal-product__img\" src=\"${\n    data.images?.[0] ?? data.thumbnail\n  }\" alt=\"${data.title || 'Product image'}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${data.title}</p>\n        <ul class=\"modal-product__tags\">${data.tags}</ul>\n        <p class=\"modal-product__description\">${data.description}</p>\n        <p class=\"invisible js-product-id\">${data.id}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${\n          data.shippingInformation\n        }</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${\n          data.returnPolicy\n        }</p>\n        <p class=\"modal-product__price\">Price: ${data.price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`;\n","export const BASE_URL = 'https://dummyjson.com/';\nexport const ENDPOINT = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: `products?`,\n  CATEGORY: 'products/category/',\n  ID: 'products/',\n  NAME: 'products/search?q=',\n};\nexport const LIMIT = 12;\n","import { refs } from './refs';\nimport { totalPages } from './products-api';\nimport { currentPage } from './handlers';\n\nexport let categoryName = 'All';\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n    categoryName = firstBtn.textContent;\n  }\n};\n\nexport const activeBtn = e => {\n  const targetBtn = e.target.closest('.categories__btn');\n  if (!targetBtn) return;\n\n  const previousActiveBtn = document.querySelector('.categories__btn--active');\n  if (previousActiveBtn) {\n    previousActiveBtn.classList.remove('categories__btn--active');\n  }\n  targetBtn.classList.add('categories__btn--active');\n  categoryName = targetBtn.textContent;\n  return;\n};\n\nexport const activateLoadMore = () => {\n  if (totalPages > currentPage) {\n    refs.loadMoreElem.classList.remove('is-hidden');\n  } else {\n    refs.loadMoreElem.classList.add('is-hidden');\n  }\n};\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINT, LIMIT } from './constants';\nimport { categoryName, activateLoadMore } from './helpers';\nimport { refs } from './refs';\nimport { currentPage, productName } from './handlers';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getCategories() {\n  try {\n    const response = await axios.get(`${ENDPOINT.CATEGORIES}`);\n    const data = response.data;\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport let totalPages;\n\nexport async function getProductsByCategory() {\n  let params = new URLSearchParams({\n    limit: LIMIT,\n    skip: (currentPage - 1) * LIMIT,\n  });\n  try {\n    const response = await axios.get(`${ENDPOINT.CATEGORY}${categoryName}`, {\n      params,\n    });\n    const data = response.data;\n    totalPages = Math.ceil(data.total / LIMIT);\n    activateLoadMore();\n    return data.products;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getProducts() {\n  let params = new URLSearchParams({\n    limit: LIMIT,\n    skip: (currentPage - 1) * LIMIT,\n  });\n  try {\n    const response = await axios.get(`${ENDPOINT.PRODUCTS}`, { params });\n    const data = response.data;\n    totalPages = Math.ceil(data.total / LIMIT);\n    activateLoadMore();\n    return data.products;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport const getProductById = async productId => {\n  try {\n    const response = await axios.get(`${ENDPOINT.ID}${productId}`);\n    const data = response.data;\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getProductByName = async productName => {\n  let params = new URLSearchParams({\n    limit: LIMIT,\n    skip: (currentPage - 1) * LIMIT,\n  });\n  try {\n    const response = await axios.get(`${ENDPOINT.NAME}${productName}`, {\n      params,\n    });\n    const data = response.data;\n    return data.products;\n  } catch (error) {\n    throw error;\n  }\n};\n","// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './refs';\n\n// let lightbox;\n// export const openModal = () => {\n//   if (!lightbox) {\n//     lightbox = new SimpleLightbox('.products li', {\n//       captionsData: 'alt',\n//       captionPosition: 'bottom',\n//       captionDelay: 250,\n//     });\n//   } else {\n//     lightbox.refresh();\n//   }\n// };\n\nexport function openModal() {\n  refs.modalRoot.classList.add('modal--is-open');\n  document.addEventListener('keydown', onEscKeyDown);\n  refs.modalRoot.addEventListener('click', onOutOfModalClick);\n}\n\nexport const closeModal = () => {\n  refs.modalRoot.classList.remove('modal--is-open');\n  document.removeEventListener('keydown', onEscKeyDown);\n  refs.modalRoot.removeEventListener('click', onOutOfModalClick);\n};\n\nfunction onEscKeyDown(e) {\n  if (\n    refs.modalRoot.classList.contains('modal--is-open') &&\n    e.key === 'Escape'\n  ) {\n    closeModal();\n  }\n}\n\nconst onOutOfModalClick = e => {\n  if (e.target !== e.currentTarget) {\n    return;\n  }\n  closeModal();\n};\n","import {\n  createCategories,\n  createProducts,\n  createModal,\n} from './render-function';\nimport {\n  getCategories,\n  getProductsByCategory,\n  getProducts,\n  getProductById,\n  getProductByName,\n} from './products-api';\nimport { activeFirstBtn, activeBtn, categoryName } from './helpers';\nimport { openModal } from './modal';\nimport { refs } from './refs';\n\nexport let currentPage = 1;\n\nexport const init = async () => {\n  const savedTheme = localStorage.getItem('theme');\n  if (!savedTheme) {\n    localStorage.setItem('theme', 'light');\n  }\n  if (savedTheme === 'dark') {\n    document.body.setAttribute('data-theme', 'dark');\n  } else {\n    document.body.removeAttribute('data-theme');\n  }\n\n  const data = await getCategories();\n  const categoriesMarkup = createCategories(['All', ...data]);\n  refs.categoriesElem.innerHTML = categoriesMarkup;\n  activeFirstBtn();\n  const products = await getProducts();\n  const productsMarkup = createProducts(products);\n  refs.productsElem.innerHTML = productsMarkup;\n};\n\nexport const onCategoreClick = async e => {\n  activeBtn(e);\n  currentPage = 1;\n  try {\n    const products =\n      categoryName === 'All'\n        ? await getProducts()\n        : await getProductsByCategory();\n\n    refs.productsElem.innerHTML = createProducts(products);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const onLoadMoreClick = async e => {\n  currentPage += 1;\n  try {\n    let products;\n    if (categoryName && categoryName !== 'All') {\n      products = await getProductsByCategory();\n    } else {\n      products = await getProducts();\n    }\n    const productsMarkup = createProducts(products);\n    refs.productsElem.insertAdjacentHTML('beforeend', productsMarkup);\n  } catch (error) {\n    throw error;\n  }\n};\n\nlet currentProductId;\nexport const onProductsClick = async e => {\n  const li = e.target.closest('.products__item');\n  if (!li) return;\n  try {\n    const productId = Number(li.dataset.id);\n    const data = await getProductById(productId);\n    refs.modalElem.innerHTML = createModal(data);\n    openModal();\n    const cartBtnElem = refs.modalRoot.querySelector('.js-cart-btn'); //!!!!!!!!!!!!!!!\n\n    currentProductId = String(data.id);\n\n    let storageProductId = JSON.parse(localStorage.getItem('cart'));\n    if (storageProductId === null) {\n      storageProductId = [];\n    }\n\n    if (storageProductId.includes(currentProductId)) {\n      cartBtnElem.textContent = 'Remove from cart';\n      cartBtnElem.classList.add('in-cart');\n      cartBtnElem.addEventListener('click', onRemoveFromCartClick);\n    } else {\n      cartBtnElem.textContent = 'Add to cart';\n      cartBtnElem.addEventListener('click', onCartBtnClick);\n    }\n    ///////////////////////////////////////////////////////////////////////////////////////\n    const wishBtnElem = refs.modalRoot.querySelector('.js-wish-btn');\n\n    let storageWishProductId = JSON.parse(localStorage.getItem('wishlist'));\n    if (storageWishProductId === null) {\n      storageWishProductId = [];\n    }\n\n    if (storageWishProductId.includes(currentProductId)) {\n      wishBtnElem.textContent = 'Remove from Wishlist';\n      wishBtnElem.classList.add('in-wish');\n      wishBtnElem.addEventListener('click', onRemoveFromWishClick);\n    } else {\n      wishBtnElem.textContent = 'Add to Wishlist';\n      wishBtnElem.addEventListener('click', onWishBtnClick);\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const onCartBtnClick = e => {\n  const targetBtn = e.currentTarget;\n  let storageProductId = JSON.parse(localStorage.getItem('cart'));\n  if (storageProductId === null) {\n    storageProductId = [];\n  }\n  if (!storageProductId.includes(currentProductId)) {\n    storageProductId.push(currentProductId);\n    targetBtn.textContent = 'Remove from cart';\n    targetBtn.classList.add('in-cart');\n    targetBtn.removeEventListener('click', onCartBtnClick);\n    targetBtn.addEventListener('click', onRemoveFromCartClick);\n  }\n\n  localStorage.setItem('cart', JSON.stringify(storageProductId));\n};\n\n//todo======================================\nexport const onWishBtnClick = e => {\n  const targetBtn = e.currentTarget;\n  let storageWishProductId = JSON.parse(localStorage.getItem('wishlist'));\n  if (storageWishProductId === null) {\n    storageWishProductId = [];\n  }\n  if (!storageWishProductId.includes(currentProductId)) {\n    storageWishProductId.push(currentProductId);\n    targetBtn.textContent = 'Remove from Wishlist';\n    targetBtn.classList.add('in-wishlist');\n    targetBtn.removeEventListener('click', onWishBtnClick);\n    targetBtn.addEventListener('click', onRemoveFromWishClick);\n  }\n\n  localStorage.setItem('wishlist', JSON.stringify(storageWishProductId));\n};\n//todo======================================\n\nexport const onRemoveFromCartClick = e => {\n  const targetBtn = e.currentTarget;\n\n  let storageProductId = JSON.parse(localStorage.getItem('cart'));\n  if (storageProductId === null) {\n    storageProductId = [];\n  }\n  if (storageProductId.includes(currentProductId)) {\n    const idIndex = storageProductId.indexOf(currentProductId);\n    storageProductId.splice(idIndex, 1);\n    targetBtn.textContent = 'Add to cart';\n    targetBtn.classList.remove('in-cart');\n    targetBtn.removeEventListener('click', onRemoveFromCartClick);\n    targetBtn.addEventListener('click', onCartBtnClick);\n  }\n  localStorage.setItem('cart', JSON.stringify(storageProductId));\n};\n//todo======================================\nexport const onRemoveFromWishClick = e => {\n  const targetBtn = e.currentTarget;\n\n  let storageWishProductId = JSON.parse(localStorage.getItem('wishlist'));\n  if (storageWishProductId === null) {\n    storageWishProductId = [];\n  }\n  if (storageWishProductId.includes(currentProductId)) {\n    const idIndex = storageWishProductId.indexOf(currentProductId);\n    storageWishProductId.splice(idIndex, 1);\n    targetBtn.textContent = 'Add to Wishlist';\n    targetBtn.classList.remove('in-wishlist');\n    targetBtn.removeEventListener('click', onRemoveFromWishClick);\n    targetBtn.addEventListener('click', onWishBtnClick);\n  }\n  localStorage.setItem('wishlist', JSON.stringify(storageWishProductId));\n};\n//todo======================================\n\nexport let productName;\nexport const onFormSubmit = async e => {\n  e.preventDefault();\n  productName = refs.inputElem.value.trim();\n  const products = await getProductByName(productName);\n  if (products.length === 0) {\n    //!!!!!!!!!!!!!!!!!!!!!!!! додати ізітост\n  }\n  const productsByNameMarkup = createProducts(products);\n  refs.productsElem.innerHTML = productsByNameMarkup;\n};\n\nexport const onThemeBtn = e => {\n  const savedTheme = localStorage.getItem('theme');\n\n  if (!savedTheme) {\n    localStorage.setItem('theme', 'light');\n  }\n  if (savedTheme === 'light') {\n    document.body.setAttribute('data-theme', 'dark');\n    localStorage.setItem('theme', 'dark');\n  } else {\n    document.body.removeAttribute('data-theme');\n    localStorage.setItem('theme', 'light');\n  }\n};\n","//Логіка сторінки Home\nimport {\n  init,\n  onProductsClick,\n  onLoadMoreClick,\n  onCategoreClick,\n  onFormSubmit,\n  onThemeBtn,\n} from './js/handlers';\nimport { closeModal } from './js/modal';\n\nimport { refs } from './js/refs';\n\ninit();\nrefs.categoriesElem.addEventListener('click', onCategoreClick);\nrefs.loadMoreElem.addEventListener('click', onLoadMoreClick);\nrefs.productsElem.addEventListener('click', onProductsClick);\nrefs.modalCloseElem.addEventListener('click', closeModal);\nrefs.formElem.addEventListener('submit', onFormSubmit);\nrefs.themeElem.addEventListener('click', onThemeBtn);\n"],"names":["refs","createCategories","data","item","createProducts","createModal","_a","BASE_URL","ENDPOINT","LIMIT","categoryName","activeFirstBtn","firstBtn","activeBtn","targetBtn","previousActiveBtn","activateLoadMore","totalPages","currentPage","axios","getCategories","error","getProductsByCategory","params","getProducts","getProductById","productId","getProductByName","productName","openModal","onEscKeyDown","onOutOfModalClick","closeModal","init","savedTheme","categoriesMarkup","products","productsMarkup","onCategoreClick","onLoadMoreClick","currentProductId","onProductsClick","li","cartBtnElem","storageProductId","onRemoveFromCartClick","onCartBtnClick","wishBtnElem","storageWishProductId","onRemoveFromWishClick","onWishBtnClick","idIndex","onFormSubmit","productsByNameMarkup","onThemeBtn"],"mappings":"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"}